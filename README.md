# Current Generator Controled by Wireless

## About Project

The project was developed to control a frequency inverter remotely, developing a printed circuit board that generates current being controlled by Wireless. Was created a communication network between two ESP-32, one of them control the current generator, this esp-32 is called Client, and the other  ESP, called Server, that control the communication network and the instructions to to be sent. The server receives instructions from the computer, utilizing a serial communication. It is possible to facilitate rotation changes and also create automated change routines.

## Frequency Inverter

A frequency inverter controls the speed and torque of AC electric motors by varying the frequency and voltage of the power supply. It first converts alternating current (AC) into direct current (DC), then transforms this current back into AC at the desired frequency. This allows for efficient speed adjustment of the motor, commonly used in industrial applications to improve control and energy efficiency. The frequency inverter utilized in the project control the number of rotations(RPM) of a motor. Beginly was utilized a 
Human Machine Interface(IHM) to control the RPM, that is a control remote where the operator realise the changes by press the buttons.

## Server 

The ESP-32 (Server) was developed for create a wifi network, that the generator current circuit will be connect, and too for send data for the generator, by Communication Protocol utilized is TCP/IP.
Was developed a inerface with Python, where operator write the value of desejed current, and this value is converted to a value between 0 and 4095, and  sent to Server by serial, and the Server retransmit this valeu by wireless for the Generator Current.

## Current Generator

The current generator that is connected on the analog channel of the inverter, the value of current are changed by sent instructions by the server. When the esp-32 received some data, he interprets the message and do the action.
The circuit of generator of current is below.

<div aling="center">
<img src = "https://github.com/user-attachments/assets/cd000ac5-2e6a-48e6-847e-3ca5efba76bb"
</div>


_CS, SCK, SDI this pins are communication(SPI) beteween "ESP-32" and "MCP4921"_

The esp32 control the integrated circuit "MCP4921", is a 12-bit digital-to-analog converter (DAC). It takes a digital signal (via SPI) and converts it into a precise analog voltage signal(0 to Voltage Reference), the voltage reference utilized is the 5V, being provided by "REF02". It’s ideal for applications requiring analog control, such as audio amplifiers or voltage regulators.The esp-32 send values between 0-4095 bits, where 0 is 0V and 4095 is 5V. So it is possible to divide the voltage of 5V into 4095 parts. 
The Integrated Circuit "REF02" generates a constant voltage of 5V, even with changes in temperature, the 5v value remains stable.
The voltage generated by the "MCP4921" is directed to the optical amplifier that will maintain the same signal at its output, which is connected to a adjustable resistor that adjusts the current range we want, I used 250Ω, generates a current between 0 - 20 mA. This way, the current to be generated will be isolated from the control circuit.
So the final current will be:

I= $Voltage/Res$ 




**Where**:

**I** = Current in miliamp.

**Voltage** = voltage generated by the MCP.

**Res** = Resistor of adjust.


Below is a link with a simulation of the circuit of generator current, you can change the values of res and voltage for see which values of current will be founded.

[Simulate Current](https://www.falstad.com/circuit/circuitjs.html?ctz=CQAgjCAMB0l3BWcMBMcUHYMGZIA4UA2ATmIxAUgpABZsKBTAWjDACgAnEbQvbyGt15C+VFJTYAlEMULhiKborAKoamlSRVt0BGwAu3HiDR8efU2ogs80bEQwIMhRwjyEacmC8zFs9nmJIbGd6MDgQABMGADMAQwBXABt9NgB3Ew0TfCM5S0h0mTyUQVkTDEUCjLLMRXNyysL6lBKRBqgm4Vq23EECgHM2mjA5erpKjpCqerAaQRnVCG02ADcKZ0zNDZUJqizW7ShdQqc5HfWzlFET7au2sDuq+7uZuY6MsZGe4SfTzYvaF9fhthqNhKCOhpiEVshZ9jl6N4QEwENAwAFCP5MRhSMRZkdIChsOF4KSyY0PsIHnwRlRqe9wIQ6XdaeANk9WSU6UzAV5CqyIZ8+UA)
